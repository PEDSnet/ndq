<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Unmapped Concepts — check_uc • ndq</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Unmapped Concepts — check_uc"><meta name="description" content="This function will evaluate the count and proportion of unmapped concepts associated
with the fact type of interest. If produce_mapped_list is set to TRUE, a summary of
the source values associated with unmapped concepts will also be produced to help
identify areas where mappings could potentially be improved. This analysis can be also be
executed longitudinally by year."><meta property="og:description" content="This function will evaluate the count and proportion of unmapped concepts associated
with the fact type of interest. If produce_mapped_list is set to TRUE, a summary of
the source values associated with unmapped concepts will also be produced to help
identify areas where mappings could potentially be improved. This analysis can be also be
executed longitudinally by year."><meta property="og:image" content="https://pedsnet.github.io/ndq/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ndq</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/database_connection.html">Database Connection &amp; Environment Setup</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/PEDSnet/ndq/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Unmapped Concepts</h1>
      <small class="dont-index">Source: <a href="https://github.com/PEDSnet/ndq/blob/main/R/unmapped_concepts.R" class="external-link"><code>R/unmapped_concepts.R</code></a></small>
      <div class="d-none name"><code>check_uc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function will evaluate the count and proportion of unmapped concepts associated
with the fact type of interest. If <code>produce_mapped_list</code> is set to TRUE, a summary of
the source values associated with unmapped concepts will also be produced to help
identify areas where mappings could potentially be improved. This analysis can be also be
executed longitudinally by year.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_uc</span><span class="op">(</span></span>
<span>  <span class="va">uc_tbl</span>,</span>
<span>  by_year <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  produce_mapped_list <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  unmapped_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">44814650L</span>, <span class="fl">0L</span>, <span class="fl">44814653L</span>, <span class="fl">44814649L</span><span class="op">)</span>,</span>
<span>  check_string <span class="op">=</span> <span class="st">"uc"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-uc-tbl">uc_tbl<a class="anchor" aria-label="anchor" href="#arg-uc-tbl"></a></dt>
<dd><p><em>tabular input</em> || <strong>required</strong></p>
<p>The primary input table that contains descriptive information about the checks
to be executed by the function. It should include definitions for the fields that
should be evaluated for missingness and other relevant metadata.
see <code><a href="uc_input_omop.html">?uc_input_omop</a></code> or <code><a href="uc_input_pcornet.html">?uc_input_pcornet</a></code> for examples of the input structure</p></dd>


<dt id="arg-by-year">by_year<a class="anchor" aria-label="anchor" href="#arg-by-year"></a></dt>
<dd><p><em>boolean</em> || defaults to <code>FALSE</code></p>
<p>A boolean indicating whether the analysis should be conducted longitudinally by year</p>
<p><strong>Note:</strong> the mapped list functionality is NOT available for the longitudinal analysis</p></dd>


<dt id="arg-produce-mapped-list">produce_mapped_list<a class="anchor" aria-label="anchor" href="#arg-produce-mapped-list"></a></dt>
<dd><p><em>boolean</em> || defaults to <code>TRUE</code></p>
<p>A boolean indicating whether a list of source values associated with unmapped concepts
should be produced in addition to the primary output. This table will be iteratively output
to the database backend of choice and will NOT be stored locally.
Only source values with &gt; 10 occurrences are included.</p></dd>


<dt id="arg-unmapped-values">unmapped_values<a class="anchor" aria-label="anchor" href="#arg-unmapped-values"></a></dt>
<dd><p><em>string / vector</em> || defaults to 44814650, 0, 44814653, &amp; 44814649</p>
<p>A string or vector listing the concept(s) that indicate an unmapped value. The function
will check for NULL values by default, so that does not need to be defined here.</p></dd>


<dt id="arg-check-string">check_string<a class="anchor" aria-label="anchor" href="#arg-check-string"></a></dt>
<dd><p><em>string</em> || defaults to <code>uc</code></p>
<p>An abbreviated identifier that will be used to label all output from this module</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>by_year</code> is <code>FALSE</code>, this function will produce a dataframe with the total row count,
the unmapped row count, the proportion of unmapped values, and some additional descriptive
metadata for each user-defined check</p>
<p>If <code>by_year</code> is <code>TRUE</code>, this function will produce a dataframe with the total row count,
the unmapped row count, the proportion of unmapped values, and some additional descriptive
metadata for each user-defined check stratified by each year present in the fact table</p>
<p>If <code>produce_mapped_list</code> is <code>TRUE</code>, then a table with name <code>uc_grpd</code> that includes
the source values (with &gt; 10 appearances) and counts of those values associated
with unmapped concepts will be produced in addition to the primary tabular output</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># First create input file with desired checks to be executed</span></span></span>
<span class="r-in"><span><span class="co"># You can access examples for both OMOP &amp; PCORnet here:</span></span></span>
<span class="r-in"><span><span class="fu">ndq</span><span class="fu">::</span><span class="va"><a href="uc_input_omop.html">uc_input_omop</a></span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 9 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   check_id check_description       schema table concept_field source_value_field</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> dr       all drugs               cdm    drug… drug_concept… drug_source_value </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> di       inpatient administrati… cdm    drug… drug_concept… drug_source_value </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> dp       prescription drugs      cdm    drug… drug_concept… drug_source_value </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> du       drug dose unit          cdm    drug… dose_unit_co… dose_unit_source_…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> drt      drug route              cdm    drug… route_concep… route_source_value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> co       conditions              cdm    cond… condition_co… condition_source_…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> co_scid  condition source        cdm    cond… condition_so… condition_source_…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> po       ordered procedures      cdm    proc… procedure_co… procedure_source_…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">9</span> pb       billed procedures       cdm    proc… procedure_co… procedure_source_…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: date_field &lt;chr&gt;, filter_logic &lt;chr&gt;</span></span>
<span class="r-in"><span><span class="fu">ndq</span><span class="fu">::</span><span class="va"><a href="uc_input_pcornet.html">uc_input_pcornet</a></span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 7 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   check_id check_description       schema table concept_field source_value_field</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> di       inpatient administrati… cdm    med_… medadmin_code raw_medadmin_med_…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> dp       prescription drugs      cdm    pres… rxnorm_cui    raw_rx_med_name   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> du       rx dose unit            cdm    pres… rx_dose_orde… raw_rx_dose_order…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> drt      rx route                cdm    pres… rx_route      raw_rx_route      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> co       diagnoses               cdm    diag… dx            raw_dx            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> po       ordered procedures      cdm    proc… px            raw_px            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> pb       billed procedures       cdm    proc… px            raw_px            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: date_field &lt;chr&gt;, filter_logic &lt;chr&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use this as your input to the UC function</span></span></span>
<span class="r-in"><span><span class="co">## Overall</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">my_uc_rslt</span> <span class="op">&lt;-</span> <span class="fu">check_uc</span><span class="op">(</span>uc_tbl <span class="op">=</span> <span class="fu">ndq</span><span class="fu">::</span><span class="va"><a href="uc_input_omop.html">uc_input_omop</a></span>,</span></span>
<span class="r-in"><span>                       by_year <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                       produce_mapped_list <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                       unmapped_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">44814650L</span>,<span class="fl">0L</span>,</span></span>
<span class="r-in"><span>                                           <span class="fl">44814653L</span>, <span class="fl">44814649L</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       omop_or_pcornet <span class="op">=</span> <span class="st">'omop'</span>,</span></span>
<span class="r-in"><span>                       check_string <span class="op">=</span> <span class="st">'uc'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## By Year</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">my_uc_rslt</span> <span class="op">&lt;-</span> <span class="fu">check_uc</span><span class="op">(</span>uc_tbl <span class="op">=</span> <span class="fu">ndq</span><span class="fu">::</span><span class="va"><a href="uc_input_omop.html">uc_input_omop</a></span>,</span></span>
<span class="r-in"><span>                       by_year <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                       produce_mapped_list <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                       unmapped_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">44814650L</span>,<span class="fl">0L</span>,</span></span>
<span class="r-in"><span>                                           <span class="fl">44814653L</span>, <span class="fl">44814649L</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       omop_or_pcornet <span class="op">=</span> <span class="st">'omop'</span>,</span></span>
<span class="r-in"><span>                       check_string <span class="op">=</span> <span class="st">'uc'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hanieh Razzaghi, Kimberley Dickinson, Kaleigh Wieand, Charles Bailey.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

